<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.3.1"><meta name=author content="Max Woolf"><meta name=description content="Spoilers: Most arrests in San Francisco happen Wednesdays at 4-5 PM. For some reason."><link rel=alternate hreflang=en-us href=https://minimaxir.com/2015/12/sf-arrests/><meta name=theme-color content=#2962ff><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.6.0/css/all.css integrity=sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,400italic,700|Source+Code+Pro:400,400italic,700&display=swap"><link rel=stylesheet href=/css/academic.min.4cdedb6ca5fc8a13caf3e26423bf7037.css><link rel=stylesheet href=/css/academic.59da4f61e2de6d8a5935b902fe667ab3.css><link rel=manifest href=/site.webmanifest><link rel=icon type=image/png href=/img/icon.png><link rel=apple-touch-icon type=image/png href=/img/icon-192.png><link rel=canonical href=https://minimaxir.com/2015/12/sf-arrests/><meta property=twitter:card content=summary_large_image><meta property=twitter:site content=@minimaxir><meta property=twitter:creator content=@minimaxir><meta property=article:author content=https://www.facebook.com/max.woolf><meta property=og:site_name content="Max Woolf's Blog"><meta property=og:url content=https://minimaxir.com/2015/12/sf-arrests/><meta property=og:type content=article><meta property=og:title content="Analyzing San Francisco Crime Data to Determine When Arrests Frequently Occur"><meta property=og:description content="Spoilers: Most arrests in San Francisco happen Wednesdays at 4-5 PM. For some reason."><meta property=og:image content=https://minimaxir.com/2015/12/sf-arrests/featured.png><meta property=twitter:image content=https://minimaxir.com/2015/12/sf-arrests/featured.png><meta property=og:locale content=en-us><meta property=article:published_time content=2015-12-04T08:00:00-07:00><meta property=article:modified_time content=2015-12-04T08:00:00-07:00><title>Analyzing San Francisco Crime Data to Determine When Arrests Frequently Occur | Max Woolf&#39;s Blog</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>Search</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-light fixed-top navbar-expand-lg py-0 compensate-for-scrollbar" id=navbar-main><div class=container><a class=navbar-brand href=/>Max Woolf&#39;s Blog</a>
<button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar aria-controls=navbar aria-expanded=false aria-label="Toggle navigation">
<span><i class="fas fa-bars"></i></span></button><div class="collapse navbar-collapse" id=navbar><ul class="navbar-nav mr-auto"><li class=nav-item><a class=nav-link href=/about/><span>About</span></a></li><li class=nav-item><a class=nav-link href=/post/><span>Posts</span></a></li><li class=nav-item><a class=nav-link href=/portfolio/><span>Portfolio</span></a></li></ul><ul class="navbar-nav ml-auto"><li class=nav-item><a class=nav-link href=https://www.patreon.com/minimaxir target=_blank rel=noopener><span><i class="fab fa-patreon mr-1"></i>Patreon</span></a></li><li class=nav-item><a class=nav-link href=https://github.com/minimaxir target=_blank rel=noopener><span><i class="fab fa-github-alt mr-1"></i>GitHub</span></a></li><li class=nav-item><a class="nav-link js-dark-toggle" href=#><i class="fas fa-moon" aria-hidden=true></i></a></li></ul></div></div></nav><article class=article itemscope itemtype=http://schema.org/Article><div class="article-container pt-3"><h1 itemprop=name>Analyzing San Francisco Crime Data to Determine When Arrests Frequently Occur</h1><meta content="2015-12-04 08:00:00 -0700 -0700" itemprop=datePublished><meta content="2015-12-04 08:00:00 -0700 -0700" itemprop=dateModified><div class=article-metadata><span class=article-date><time>December 4, 2015</time></span>
<span class=middot-divider></span><span class=article-reading-time>10 min read</span>
<span class=middot-divider></span><span class=article-categories><i class="fas fa-folder mr-1"></i><a href=/categories/data-science/>Data Science</a>, <a href=/categories/big-data/>Big Data</a></span><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=https://minimaxir.com/2015/12/sf-arrests/&amp;text=Analyzing%20San%20Francisco%20Crime%20Data%20to%20Determine%20When%20Arrests%20Frequently%20Occur" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=https://minimaxir.com/2015/12/sf-arrests/&amp;t=Analyzing%20San%20Francisco%20Crime%20Data%20to%20Determine%20When%20Arrests%20Frequently%20Occur" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook-f"></i></a></li><li><a href="mailto:?subject=Analyzing%20San%20Francisco%20Crime%20Data%20to%20Determine%20When%20Arrests%20Frequently%20Occur&amp;body=https://minimaxir.com/2015/12/sf-arrests/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=https://minimaxir.com/2015/12/sf-arrests/&amp;title=Analyzing%20San%20Francisco%20Crime%20Data%20to%20Determine%20When%20Arrests%20Frequently%20Occur" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="https://reddit.com/submit?url=https://minimaxir.com/2015/12/sf-arrests/&amp;title=Analyzing%20San%20Francisco%20Crime%20Data%20to%20Determine%20When%20Arrests%20Frequently%20Occur" target=_blank rel=noopener class=share-btn-reddit><i class="fab fa-reddit-alien"></i></a></li></ul></div></div></div><div class=article-container><div class=article-style itemprop=articleBody><p>The <a href=https://data.sfgov.org target=_blank>SF OpenData portal</a> is a good source for detailed statistics about San Francisco. One of the most popular datasets on the portal is the <a href=https://data.sfgov.org/Public-Safety/SFPD-Incidents-from-1-January-2003/tmnf-yvry target=_blank>SFPD Incidents dataset</a>, which contains a tabular list of 1,842,050 reports (at time of writing) from 2003 to present.</p><p><img src=/img/sf-arrests/incident-data.png alt></p><p>The data can be exported into a 377.9 MB CSV; not large enough to be considered &ldquo;big data,&rdquo; but still too heavy for programs like Excel to process efficiently. Let&rsquo;s take a look at the data using <a href=https://www.r-project.org target=_blank>R</a> and see if there&rsquo;s anything interesting.</p><h2 id=processing-the-data>Processing the Data</h2><p>For this article, I&rsquo;m going to do something different and illustrate the data processing step-by-step, both as a teaching tool, and to show that I am not using vague methodology to generate a narratively-convenient conclusion. <em>For more detailed code and output, a <a href=https://github.com/minimaxir/sf-arrests-when-where/blob/master/crime_data_sf.ipynb target=_blank>Jupyter notebook</a> containing the code and visualizations used in this article is available open-source on GitHub.</em></p><p>Loading a 1.9 million row file into R can take awhile, even on modern computers with a SSD. Enter <code>readr</code>, <a href=https://github.com/hadley/readr target=_blank>another R package</a> by <code>ggplot2</code> author Hadley Wickham, which grants access to a <code>read_csv()</code> function that has nearly 10x the speed of the base <code>read.csv()</code> R function, with more sensible defaults too.</p><pre><code class=language-R>path &lt;- &quot;~/Downloads/SFPD_Incidents_-_from_1_January_2003.csv&quot;

df &lt;- read_csv(path)
</code></pre><p>In memory, the data set is 180.9 MB, and removing a few useless columns (e.g. IncidentNum) further reduces the size to 126.9 MB. Since there are many redundancies in the row data (e.g. only 10 distinct PdDistrict values), R can perform memory optimizations.</p><p>You may have noticed in the first article image that the text data in some of the columns is in ALL CAPS, which would look ugly if the text was used in a data visualization. We can create a helper function to convert a column of text values into proper case through the use of <a href=http://stackoverflow.com/questions/15776732/how-to-convert-a-vector-of-strings-to-title-case target=_blank>regular expression shenanigans</a>.</p><pre><code class=language-R>proper_case &lt;- function(x) {
    return (gsub(&quot;\\b([A-Z])([A-Z]+)&quot;, &quot;\\U\\1\\L\\2&quot; , x, perl=TRUE))
}
</code></pre><p>Now we can do more through processing using <code>dplyr</code>, <a href=https://github.com/hadley/dplyr target=_blank><em>another</em> Hadley Wickham R package</a>. dplyr is a utility that makes R easier to use: it provides a new syntax that allows data manipulation with intuitive function names, the functions can be chained using the <code>%&gt;%</code> operator for efficiency, and all data processing is <em>significantly</em> faster due to a C++ code base. (Fun fact: before the release of dplyr, I intended to quit using R for data analysis in favor of Python. Base R syntax is <em>that</em> difficult to use.)</p><p>In dplyr, <code>mutate</code> allows the creation and transformation of columns. We will transform the text columns by running the columns through the <code>proper_case</code> function earlier:</p><pre><code class=language-R>df &lt;- df %&gt;% mutate(Category = proper_case(Category),
                 Descript = proper_case(Descript),
                 PdDistrict = proper_case(PdDistrict),
                 Resolution = proper_case(Resolution))
</code></pre><p>After all that, the data looks like:</p><p><img src=/img/sf-arrests/processed-table.png alt></p><p>Much better!</p><p>However, many of the records have a &ldquo;None&rdquo; value for Resolution. This implies that the police appeared at the incident but did no action, which isn&rsquo;t that helpful for analysis. How about we look at incidents which resulted in an arrest?</p><p>dplyr&rsquo;s <code>filter</code> command does that, and we can use <code>grepl()</code> to do a text search for each Resolution value for the presence of &ldquo;Arrest&rdquo;.</p><pre><code class=language-R>df_arrest &lt;- df %&gt;% filter(grepl(&quot;Arrest&quot;, Resolution))
</code></pre><p>That&rsquo;s it! There are 587,499 arrests total in the dataset.</p><h2 id=arrests-over-time>Arrests Over Time</h2><p>One of the most simple data visualizations is a line chart, and it&rsquo;s a good starting point to use for analyzing arrests. Has the number of daily arrests been changing over time? dplyr and ggplot2 make this very easy to visualize in R.</p><p>First, the Date column must be formatted as a Date internally in R instead of text. Then we <code>group_by</code> the Date, and then use <code>summarize</code> to perform an aggregate on each group; in this case, count how many entries for the group. (<code>n()</code> is a convenient shortcut). We can also ensure that the dates are in ascending order.</p><pre><code class=language-R>df_arrest_daily &lt;- df_arrest %&gt;%
                    mutate(Date = as.Date(Date, &quot;%m/%d/%Y&quot;)) %&gt;%
                    group_by(Date) %&gt;%
                    summarize(count = n()) %&gt;%
                    arrange(Date)
</code></pre><p><img src=/img/sf-arrests/date-table.png alt></p><p>Nifty! However, keep in mind that there are thousands of days in this dataset.</p><p>Now we can make a pretty line chart in ggplot2. Here&rsquo;s the code, and I will explain what everything does afterward:</p><pre><code class=language-R>plot &lt;- ggplot(df_arrest_daily, aes(x = Date, y = count)) +
    geom_line(color = &quot;#F2CA27&quot;, size = 0.1) +
    geom_smooth(color = &quot;#1A1A1A&quot;) +
    fte_theme() +
    scale_x_date(breaks = date_breaks(&quot;2 years&quot;), labels = date_format(&quot;%Y&quot;)) +
    labs(x = &quot;Date of Arrest&quot;, y = &quot;# of Police Arrests&quot;, title = &quot;Daily Police Arrests in San Francisco from 2003 – 2015&quot;)
</code></pre><ul><li><code>ggplot()</code> sets up the base chart and axes.</li><li><code>geom_line()</code> creates the line for the line chart. &ldquo;color&rdquo; and &ldquo;size&rdquo; parameters do just that.</li><li><code>geom_smooth()</code> adds a smoothing spline on top of the chart to serve as a trendline, which is helpful since there are a lot of points.</li><li><code>fte_theme()</code> is my theme based on the FiveThirtyEight style.</li><li><code>scale_x_date()</code> explicitly sets the x-axis to scale with date values. However, there are a few extremely useful formatting parameters with this function: &ldquo;breaks&rdquo; lets you set the chart breaks in plain English, and &ldquo;labels&rdquo; lets you format the dates at this breaks; in this case, there are breaks every 2 years, and only the year will be displayed for minimalism.</li><li><code>labs()</code> is a quick shortcut for labeling your axes and plot (<em>always</em> label!)</li></ul><p>Running the code and saving the output results in this image:</p><p><img src=/img/sf-arrests/sf-arrest-when-1.png alt></p><p>The line chart has high variation due to the number of points (in retrospect, a 30-day moving average of arrests would work better visually). As the trendline indicates, the trend is actually <em>multimodal</em>, with daily arrest peaks in 2009 and 2014. Definitely interesting. The number of arrests appears to be on a downward trend since then.</p><p>The next step is to look into possible answers for the day-by-day variation.</p><h2 id=when-do-arrests-happen>When Do Arrests Happen?</h2><p>One of my go-to data visualizations is a heat map of times of week; in this case, we can find which day-of-week and time-of-day when the most Arrests occur in San Francisco, and compare that with other time slots at a glance.</p><p>This requires the Hour and Day-of-Week to be present in separate columns: we have a DOY column already, but we need to parse the Hour component out of the HH:MM values in the Time column.</p><p>This requires another helper function which uses <code>strsplit()</code> to split a single time value to Hour and Minute components, take the first value (Hour), and convert that value to a numeric value (instead of text) For example, &ldquo;09:40&rdquo; input returns 9.</p><pre><code class=language-R>get_hour &lt;- function(x) {
    return (as.numeric(strsplit(x,&quot;:&quot;)[[1]][1]))
}
</code></pre><p>Unfortunately, this will not work for an entire column. Using <code>sapply()</code> applies a specified function to each element in a column, which accomplishes the same goal.</p><p>The goal is to count how many Arrests occur for a given day-of-week and hour combination. In dplyr, we <code>group_by</code> both &ldquo;DayOfWeek&rdquo; and &ldquo;Hour&rdquo;, and then use <code>summarize</code> again.</p><pre><code class=language-R>df_arrest_time &lt;- df_arrest %&gt;%
                    mutate(Hour = sapply(Time, get_hour)) %&gt;%
                    group_by(DayOfWeek, Hour) %&gt;%
                    summarize(count = n())
</code></pre><p><img src=/img/sf-arrests/dow-table.png alt></p><p>A few more tweaks are done (off camera) to convert the Hours to representations like &ldquo;12 PM&rdquo; and get everything in the correct order.</p><p>Now, it&rsquo;s time to make the heatmap using <code>ggplot2</code>. Here&rsquo;s the code, and I will explain what the new functions do:</p><pre><code class=language-R>plot &lt;- ggplot(df_arrest_time, aes(x = Hour, y = DayOfWeek, fill = count)) +
    geom_tile() +
    fte_theme() +
    theme(...) +
    labs(x = &quot;Hour of Arrest (Local Time)&quot;, y = &quot;Day of Week of Arrest&quot;, title = &quot;# of Police Arrests in San Francisco from 2003 – 2015, by Time of Arrest&quot;) +
    scale_fill_gradient(low = &quot;white&quot;, high = &quot;#27AE60&quot;, labels = comma)
</code></pre><ul><li><code>geom_title()</code> creates tiles. (instead of lines)</li><li><code>theme()</code> is needed for a few additional theme tweaks to get the gradient bar to render (tweaks not shown)</li><li><code>scale_fill_gradient()</code> tells the tiles to fill on a gradient, from white as the lowest value to a green as the highest value. The &ldquo;labels = comma&rdquo; parameter is a hidden helpful tip to allow any values in the legend to show with commas.</li></ul><p>Putting it all together:</p><p><img src=/img/sf-arrests/sf-arrest-when-2.png alt></p><p>The heatmap is an intuitive result. Arrests don&rsquo;t happen in the early morning, and arrests tend to be elevated Friday and Saturday night, when everyone is out on the town.</p><p>However, the peak arrest time is apparently on Wednesdays at 4-5 PM. Wednesdays and the 4-5 PM timeslot in general have elevated arrest frequency, too. Why is that the case?</p><p>This requires further analysis.</p><h2 id=facets-of-arrest>Facets of Arrest</h2><p>Perhaps the odd results can be explained by another lurking variable. Logically, certain types of crime, such as DUIs, should happen primarily at night. ggplot2 has tool known as faceting that makes such analysis easy by rendering a chart for each instance of another value in another variable. In this case, with only <em>one</em> line of ggplot2 code, we can plot a heatmap for <em>each</em> of the top types of arrests, and see if there is any significant variation in the heatmap.</p><p>After quickly using dplyr to aggregate and sort the top categories of arrest, by number of occurrences:</p><pre><code class=language-R>df_top_crimes &lt;- df_arrest %&gt;%
                    group_by(Category) %&gt;%
                    summarize(count = n()) %&gt;%
                    arrange(desc(count))
</code></pre><p><img src=/img/sf-arrests/top-crimes.png alt></p><p>&ldquo;Other Offenses&rdquo; is a catch-all, so we will ignore that. Filter on the top 18 types of crime excluding Other Offenses and aggregate as usual.</p><pre><code class=language-R>df_arrest_time_crime &lt;- df_arrest %&gt;%
                    filter(Category %in% df_top_crimes$Category[2:19]) %&gt;%
                    mutate(Hour = sapply(Time, get_hour)) %&gt;%
                    group_by(Category, DayOfWeek, Hour) %&gt;%
                    summarize(count = n())
</code></pre><p>Time for the heat map! The <code>ggplot</code> code is nearly identical to the previous heatmap code, except we add <code>facet_wrap()</code>.</p><pre><code class=language-R>plot &lt;- ggplot(df_arrest_time_crime, aes(x = Hour, y = DayOfWeek, fill = count)) +
    geom_tile() +
    fte_theme() +
    theme(...) +
    labs(x = &quot;Hour of Arrest (Local Time)&quot;, y = &quot;Day of Week of Arrest&quot;, title = &quot;# of Police Arrests in San Francisco from 2003 – 2015, by Category and Time of Arrest&quot;) +
    scale_fill_gradient(low = &quot;white&quot;, high = &quot;#2980B9&quot;) +
    facet_wrap(~ Category, nrow = 6)
</code></pre><p><img src=/img/sf-arrests/sf-arrest-when-3.png alt></p><p>Easy visualization to make, but it&rsquo;s not fully correct. There can only be one scale for the whole visualization, which is why the categories with lots of arrests appear colored and others do not (however, it shows that Drugs/Narcotics arrests are a large contributor to the Wednesday emphasis of the data). We need to normalize the counts by facet. dplyr has a nice trick for normalization: group by the normalization variable (Category), then mutate to add a column based on the aggregate for each unique value.</p><pre><code class=language-R>df_arrest_time_crime &lt;- df_arrest_time_crime %&gt;%
                            group_by(Category) %&gt;%
                            mutate(norm = count/sum(count))
</code></pre><p><img src=/img/sf-arrests/crime-norm.png alt></p><p>Setting the &ldquo;fill&rdquo; to &ldquo;norm&rdquo; and rerunning the heatmap code yields:</p><p><img src=/img/sf-arrests/sf-arrest-when-4.png alt></p><p>Now things get interesting.</p><p>Prostitution has the most notably unique behavior, which high concentrations of arrests at night on weekdays. Drunkenness and DUIs have high concentrations at night on weekends. And Disorderly Conduct has a high concentration of arrests at 5 AM on weekdays? That&rsquo;s not intuitive.</p><p>Notably, some offenses have relatively random times of arrests, such as Stolen Property and Vehicle Theft.</p><p>However, this doesn&rsquo;t help explain why arrests tend to happen Wednesdays/4-5PM. Maybe faceting by another variable will provide more information.</p><p>Perhaps Police district? Maybe some PDs in San Francisco are more zealous than others. Since we created a code workflow earlier, we can apply it to any other variable very easily; in this case, it&rsquo;s mostly just replacing instances of &ldquo;Category&rdquo; with &ldquo;PdDistrict.&rdquo;</p><p>Doing thus yields this heatmap.</p><p><img src=/img/sf-arrests/sf-arrest-when-5.png alt></p><p>Which isn&rsquo;t helpful. The charts are mostly identical to each other, and to the original heatmap. (Central Station (<a href="http://www.sf-police.org/Modules/ShowDocument.aspx?documentID=27554" target=_blank>coverage map</a>), however, has activity correlated to Drunkenness arrests.)</p><p>Perhaps the frequency of arrests is correlated to the time of year? How about faceting by month?</p><p><img src=/img/sf-arrests/sf-arrest-when-6.png alt></p><p>Nope. Zero difference.</p><p>Last try. As shown in the line chart, the # of Arrests has oscillated over the years. Perhaps there&rsquo;s a specific year that&rsquo;s skewing the results. Let&rsquo;s facet by Year.</p><p><img src=/img/sf-arrests/sf-arrest-when-7.png alt></p><p>Nope^2. 2010-2012 have elevated Wednesday activity, but not by much.</p><p>This is frustrating. As of this posting, I don&rsquo;t have an obvious answer for the elevated arrests Wednesdays at 4-5PM. That being said, there definitely is still more to learn from looking at SF Crime data, although that&rsquo;s enough analysis for the time being.</p><p><a href=http://minimaxir.com/2015/12/sf-arrest-maps/ target=_blank>My next article</a> discusses how to plot arrests on a map using the <code>ggmap</code> R library, which hopefully will provide more answers. The <a href=https://github.com/minimaxir/sf-arrests-when-where target=_blank>GitHub repository</a> contains a Jupyter notebook with code and visualizations for both for this article, and for the upcoming ggmap visualizations (if you want a sneak peek) which will show <em>where</em> arrests in San Francisco frequently occur.</p><hr><p><em>If you use the code or data visualization designs contained within this article, it would be greatly appreciated if proper attribution is given back to this article and/or myself. Thanks!</em></p><div class="alert alert-note"><div>If you liked this blog post, I have set up a <a href=https://www.patreon.com/minimaxir target=_blank>Patreon</a> to fund my machine learning/deep learning/software/hardware needs for my future crazy yet cool projects, and any monetary contributions to the Patreon are appreciated and will be put to good creative use.</div></div></div><div class=article-tags><a class="badge badge-light" href=/tags/r/>R</a>
<a class="badge badge-light" href=/tags/ggplot2/>ggplot2</a></div><div class="media author-card" itemscope itemtype=http://schema.org/Person><img class="portrait mr-3" src="https://s.gravatar.com/avatar/28f09e3deff62333b3f32f19d3971d46?s=200')" itemprop=image alt=Avatar><div class=media-body><h5 class=card-title itemprop=name><a href=https://minimaxir.com/>Max Woolf</a></h5><h6 class=card-subtitle>Data Scientist at BuzzFeed</h6><p class=card-text itemprop=description>Ex-Apple. Carnegie Mellon graduate. Plotter of pretty charts. Former TechCrunch comment troll.</p><ul class=network-icon aria-hidden=true><li><a itemprop=sameAs href=https://twitter.com/minimaxir target=_blank rel=noopener><i class="fab fa-twitter"></i></a></li><li><a itemprop=sameAs href=https://linkedin.com/in/minimaxir target=_blank rel=noopener><i class="fab fa-linkedin"></i></a></li><li><a itemprop=sameAs href=https://youtube.com/minimaxir target=_blank rel=noopener><i class="fab fa-youtube"></i></a></li><li><a itemprop=sameAs href=https://twitch.tv/minimaxir target=_blank rel=noopener><i class="fab fa-twitch"></i></a></li><li><a itemprop=sameAs href=mailto:max@minimaxir.com><i class="fas fa-envelope"></i></a></li></ul></div></div><div class=article-widget><div class=hr-light></div><h3>Related</h3><ul><li><a href=/2015/11/nyc-ggplot2-howto/>How to Visualize New York City Using Taxi Location Data and ggplot2</a></li><li><a href=/2015/10/reddit-topwords/>Quantifying and Visualizing the Reddit Hivemind</a></li><li><a href=/2015/10/reddit-bigquery/>How to Analyze Every Reddit Submission and Comment, in Seconds, for Free</a></li><li><a href=/2015/09/bootstrap-resample/>Coding, Visualizing, and Animating Bootstrap Resampling</a></li><li><a href=/2015/08/nyc-map/>Plotting a Map of New York City Using Only Taxi Location Data</a></li></ul></div><div class=article-widget><div class=post-nav><div class=post-nav-item><div class=meta-nav>Next</div><a href=/2015/12/sf-arrest-maps/ rel=next>Mapping Where Arrests Frequently Occur in San Francisco Using Crime Data</a></div><div class=post-nav-item><div class=meta-nav>Previous</div><a href=/2015/11/nyc-ggplot2-howto/ rel=prev>How to Visualize New York City Using Taxi Location Data and ggplot2</a></div></div></div><section id=comments><div id=disqus_thread></div><script type=application/javascript>var disqus_config=function(){};(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('disqus_thread').innerHTML='Disqus comments not available by default when the website is previewed locally.';return;}
var d=document,s=d.createElement('script');s.async=true;s.src='//'+"minimaxir"+'.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></section></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/highlight.min.js integrity="sha256-aYTdUrn6Ow1DDgh5JTc3aDGnnju48y/1c8s1dgkYPQ8=" crossorigin=anonymous></script><script src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.6/languages/r.min.js></script><script>hljs.initHighlightingOnLoad();</script><script src=/js/academic.min.bc1d5e4f014b8d38d75521ad1ae2ab18.js></script><div class=container><footer class=site-footer><p class=powered-by>Copyright Max Woolf &copy; 2019 &middot;
Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# id=back_to_top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>Cite</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&times;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>Copy</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>Download</a><div id=modal-error></div></div></div></div></div></body></html>
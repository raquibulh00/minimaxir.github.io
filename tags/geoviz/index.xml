<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>GeoViz on Max Woolf&#39;s Blog</title><link>/tags/geoviz/</link><description>Recent content in GeoViz on Max Woolf&#39;s Blog</description><generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><copyright>Copyright Max Woolf &amp;copy; {year}</copyright><lastBuildDate>Fri, 07 Aug 2015 08:00:00 +0000</lastBuildDate><atom:link href="/tags/geoviz/index.xml" rel="self" type="application/rss+xml"/><item><title>Plotting a Map of New York City Using Only Taxi Location Data</title><link>/2015/08/nyc-map/</link><pubDate>Fri, 07 Aug 2015 08:00:00 +0000</pubDate><guid>/2015/08/nyc-map/</guid><description>&lt;p&gt;Recently, the New York City Taxi and Limousine Commission &lt;a href=&#34;http://www.nyc.gov/html/tlc/html/about/trip_record_data.shtml&#34; target=&#34;_blank&#34;&gt;released a dataset&lt;/a&gt; of all Yellow Taxi and Green Taxi trips in 2014, and year-to-date in 2015, which follows the &lt;a href=&#34;http://chriswhong.com/open-data/foil_nyc_taxi/&#34; target=&#34;_blank&#34;&gt;2013 data set&lt;/a&gt; which was obtained to a FOIL request for the data last year. The dataset contains fun statistics, such as the location where the taxi picked up and dropped off its fare, the speed the taxi is moving, and the total fare at the end of the ride.&lt;/p&gt;
&lt;p&gt;In the &lt;a href=&#34;https://news.ycombinator.com/item?id=10003118&#34; target=&#34;_blank&#34;&gt;Hacker News thread&lt;/a&gt; announcing the data set release, user eck posted an interesting, minimalistic visualization of the taxi location data:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/nyc-map/ov6K6mt.jpg&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;eck made the visualization using a &amp;ldquo;few hundred lines of C++&amp;rdquo;. That seemed overkill to me. So I tried to reverse-engineer his visualization using my favorite plotting tool, &lt;a href=&#34;http://ggplot2.org/&#34; target=&#34;_blank&#34;&gt;ggplot2&lt;/a&gt;. In theory, plotting a million little points in close proximity should simulate the lines of the streets of New York City.&lt;/p&gt;
&lt;p&gt;The dataset is large (2 GB per month of data), although not &amp;ldquo;big data&amp;rdquo; large. It would take an afternoon to set up a local database, and I wanted to make pretty visualizations &lt;em&gt;immediately&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Google BigQuery Developer Advocate Felipe Hoffa &lt;a href=&#34;https://www.reddit.com/r/bigquery/comments/3fo9ao/nyc_taxi_trips_now_officially_shared_by_the_nyc/&#34; target=&#34;_blank&#34;&gt;created a BigQuery interface&lt;/a&gt; for the data. BigQuery allows easy and fast access to the entire dataset for rapid processing. In my case, I need to compress the data set by truncating the latitude and longitude of the GPS coordinates to 4 digits; this allows &lt;a href=&#34;http://gis.stackexchange.com/a/8674&#34; target=&#34;_blank&#34;&gt;precision to 11 meters&lt;/a&gt; on the coordinates, which is sufficient for estimating. Running this BigQuery query:&lt;/p&gt;
&lt;pre&gt;&lt;code class=&#34;language-sql&#34;&gt;SELECT ROUND(pickup_latitude, 4) as lat,
ROUND(pickup_longitude, 4) as long,
COUNT(*) as num_pickups
FROM [nyc-tlc:yellow.trips_2014]
GROUP BY lat, long
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Gives me data for about 1 Million GPS coordinates; more than enough to make a full map. This also has the benefit of fitting into memory, which is necessary for use with ggplot2.&lt;/p&gt;
&lt;p&gt;My first attempt, where I plot 1 million very small white points on a black map bounded to the latitude/longitude coordinates of NYC, turned out pretty well, and with less than 10 lines of code.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/nyc-map/nyc_old.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;On Reddit, my submission of the &lt;a href=&#34;https://www.reddit.com/r/dataisbeautiful/comments/3fvg8i/map_of_new_york_city_plotted_using_locations_of/&#34; target=&#34;_blank&#34;&gt;data visualization&lt;/a&gt; received about 3,500 points, and a large amount of social media buzz on Facebook and Twitter. There were a few comments however; why were there random points in the Hudson River? Why are highways indicated as taxi pickup spots? Why does the map say &amp;ldquo;2015&amp;rdquo; when your query says &amp;ldquo;2014&amp;rdquo;? (guilty on the last one; the map was made using the 2014 dataset by accident!)&lt;/p&gt;
&lt;p&gt;At the least, the streets of &lt;a href=&#34;https://en.wikipedia.org/wiki/Manhattan&#34; target=&#34;_blank&#34;&gt;Manhattan&lt;/a&gt; were not discernable at all, unlike eck&amp;rsquo;s diagram. As a result, I made a few refinements to remove some logical outliers with impossible vehicle speeds, removed noisy points which were completely isolated, &lt;em&gt;used the correct 2015 data set&lt;/em&gt;, and also added a color weighting to the data, where the most-taxi-dense areas will appear colored (scaling logarithmically) to differentate those areas from less taxi-prone areas.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/nyc-map/nyc_yellow_pickup.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The map, while less bright, became more precise. The streets in Manhattan are now visible, and the purple color shows how &lt;a href=&#34;https://en.wikipedia.org/wiki/Times_Square&#34; target=&#34;_blank&#34;&gt;Times Square&lt;/a&gt; and the &lt;a href=&#34;https://en.wikipedia.org/wiki/Financial_District,_Manhattan&#34; target=&#34;_blank&#34;&gt;Financial District&lt;/a&gt; in particular are popular taxi pickup spots in Manhattan. &lt;a href=&#34;https://en.wikipedia.org/wiki/LaGuardia_Airport&#34; target=&#34;_blank&#34;&gt;LaGuardia Airport&lt;/a&gt; and &lt;a href=&#34;https://en.wikipedia.org/wiki/John_F._Kennedy_International_Airport&#34; target=&#34;_blank&#34;&gt;John F. Kennedy International Airport&lt;/a&gt; appear purple as well.&lt;/p&gt;
&lt;p&gt;However, this map only looks at places where people picked up Taxis. Could there be a difference when plotting Taxi dropoffs instead?&lt;/p&gt;
&lt;p&gt;I reran the query and visualization scripts on the dropoff location data instead, and as it turns out, there is a significant difference!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/nyc-map/nyc_yellow_dropoff.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;While Taxi pickups were isolated more in residential areas, taxi dropoffs can happen anywhere in the Tristate area. Additionally, the map more closely matches eck&amp;rsquo;s original visualization.&lt;/p&gt;
&lt;p&gt;Setting up ggplot2 in this way will also allow me to perform other fun analyses in the future. For example, since we know where taxis drop off, we can determine the average speed for the trip for each significant location in NYC geography. Would the average trip speed be higher for trips that drop off at an airport due to the highway? Conversely, would the average speed be lower in Manhattan? How would fares be affected? Those are questions for another blog post. :)&lt;/p&gt;
&lt;p&gt;Although, I still have no guesses why the highways are highlighted in &lt;em&gt;both&lt;/em&gt; maps.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;You can download a &lt;a href=&#34;https://dl.dropboxusercontent.com/u/2017402/nyc_yellow_pickup.pdf&#34; target=&#34;_blank&#34;&gt;PDF of my purple pickup map&lt;/a&gt; (4.14 MB) and a &lt;a href=&#34;https://dl.dropboxusercontent.com/u/2017402/nyc_yellow_dropoff.pdf&#34; target=&#34;_blank&#34;&gt;PDF of my blue dropoff map&lt;/a&gt; (7.68 MB) sans text, both of which are resolution-independent and sutable for making physical prints.&lt;/em&gt;&lt;/p&gt;</description></item><item><title>Locating All the Christmas Trees on Instagram</title><link>/2015/01/tree-time/</link><pubDate>Thu, 01 Jan 2015 09:00:00 +0000</pubDate><guid>/2015/01/tree-time/</guid><description>
&lt;p&gt;Everyone enjoys taking photos of their Christmas trees, usually at their own home of their relatives. &lt;a href=&#34;http://instagram.com/&#34; target=&#34;_blank&#34;&gt;Instagram&lt;/a&gt; allows users to quickly upload any photo and share it socially to the world. On Christmas Eve, privacy author Tommy Collison &lt;a href=&#34;http://www.tommycollison.com/blog/2014/12/24/christmas-geotagging&#34; target=&#34;_blank&#34;&gt;published a warning about this behavior&lt;/a&gt;, noting that if a user tags a photo with #tree to tag their Christmas tree, for example, &lt;em&gt;anyone&lt;/em&gt; will be able to see it, and if the user attached their location to the photo, anyone could theoretically find where they live.&lt;/p&gt;
&lt;p&gt;How practical is this concern? Instagram &lt;a href=&#34;http://instagram.com/developer/&#34; target=&#34;_blank&#34;&gt;offers an API&lt;/a&gt; of all recent photos for a given #tag so developers can download pictures and their corresponding metadata, such as geolocation, in bulk. (Up to &lt;em&gt;165,000&lt;/em&gt; Instagram images can be processed per hour!)&lt;/p&gt;
&lt;p&gt;I downloaded &lt;em&gt;hundreds of thousands&lt;/em&gt; of #tree images and found 25,432 images which were taken on Christmas, have a #tree, and, most importantly, contain location data where the photo was taken. From that, I created an &lt;a href=&#34;https://www.google.com/fusiontables/DataSource?docid=1J3RQB6MuFbZvA_WcCVHlKAzDBUppxFBQ3LA054RL&#34; target=&#34;_blank&#34;&gt;interactive map&lt;/a&gt; showing the location of all these images worldwide using &lt;a href=&#34;https://support.google.com/fusiontables/answer/2571232?hl=en&#34; target=&#34;_blank&#34;&gt;Google Fusion Tables&lt;/a&gt;. You can click-and-drag to move the map all over the world, and you can click on a marker on the map to see the Instagram image taken at that location! (note that if you&amp;rsquo;re on a mobile device, the embedded map may work better on a desktop browser)&lt;/p&gt;
&lt;iframe width=&#34;100%&#34; height=&#34;400&#34; scrolling=&#34;no&#34; frameborder=&#34;no&#34; src=&#34;https://www.google.com/fusiontables/embedviz?q=select+col8+from+1J3RQB6MuFbZvA_WcCVHlKAzDBUppxFBQ3LA054RL&amp;amp;viz=MAP&amp;amp;h=false&amp;amp;lat=50.13422309020635&amp;amp;lng=-46.22345629918755&amp;amp;t=1&amp;amp;z=3&amp;amp;l=col8&amp;amp;y=2&amp;amp;tmplt=3&amp;amp;hml=TWO_COL_LAT_LNG&#34;&gt;&lt;/iframe&gt;
&lt;p&gt;I found a few interesting things while playing with this map.&lt;/p&gt;
&lt;h2 id=&#34;christmas-trees-in-the-usa&#34;&gt;Christmas Trees in the USA&lt;/h2&gt;
&lt;p&gt;A downside of the interactive map is that quantifying the relative number of photos between dense areas (e.g. cities) can be misleading as the opaque markers overlap. Here is a static map of all of the Instagram photos in the United States, with each translucent point representing an image:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tree-time/instagram_treemap_state.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The number of photos is densest near the large cities, which is what you would expect.&lt;/p&gt;
&lt;p&gt;A way to calculate the relative proportion of the number of #tree photos between states is to use a type of chart known as a &lt;a href=&#34;http://en.wikipedia.org/wiki/Treemapping&#34; target=&#34;_blank&#34;&gt;treemap&lt;/a&gt; (pun &lt;em&gt;very&lt;/em&gt; much intended).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tree-time/treemap-state.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;In this treemap, the relative area of each block corresponds to the number of photos taken in the state; therefore, the combination of all the blocks represents 100% of the #tree photos taken in the USA. If two blocks are the same size (e.g. New York and Florida), then they have the same number of #tree photos.&lt;/p&gt;
&lt;p&gt;As you may have noticed from these two charts, these data represented by these two charts is approximately the same as the &lt;a href=&#34;http://en.wikipedia.org/wiki/List_of_U.S._states_and_territories_by_population&#34; target=&#34;_blank&#34;&gt;population density in the United States&lt;/a&gt;. Although this touches on the &lt;a href=&#34;http://xkcd.com/1138/&#34; target=&#34;_blank&#34;&gt;infamous statistical problem&lt;/a&gt; of heat maps resembling population maps, in this case, it&amp;rsquo;s what would be expected.&lt;/p&gt;
&lt;p&gt;Looking at all the #tree photos in the world may tell a different story.&lt;/p&gt;
&lt;h2 id=&#34;christmas-trees-in-the-world&#34;&gt;Christmas Trees in the World&lt;/h2&gt;
&lt;p&gt;Christmas is a holiday for only one religion with a &lt;a href=&#34;http://en.wikipedia.org/wiki/Christianity_by_country&#34; target=&#34;_blank&#34;&gt;low presence in Asia and northern Africa&lt;/a&gt;, so it would be expected that the locations of Christmas trees worldwide do &lt;em&gt;not&lt;/em&gt; correlate with population, which makes the analysis more interesting.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tree-time/instagram_world_map.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The prevalence of Christmas trees is most prominent in the United States and Europe, with relatively few in Asia, where the majority of the world&amp;rsquo;s population is located. Italy has Christmas trees &lt;em&gt;uniformly&lt;/em&gt; throughout the entire country, which is an interesting behavior.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tree-time/treemap-world.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The treemap confirms that Asian and African countries like China, India, and Nigeria do not have as many Christmas trees than &lt;a href=&#34;http://en.wikipedia.org/wiki/List_of_countries_and_dependencies_by_population&#34; target=&#34;_blank&#34;&gt;what their large populations would suggest&lt;/a&gt;. Italy, however has a &lt;a href=&#34;http://en.wikipedia.org/wiki/Demographics_of_Italy&#34; target=&#34;_blank&#34;&gt;population of 60 million&lt;/a&gt; (the same as the United Kingdom) which is about 1/5th of the population of United States; the fact that Italy has more than half of the number of Christmas Trees than the United States is very unusual and should be questioned.&lt;/p&gt;
&lt;p&gt;Italy &lt;em&gt;may&lt;/em&gt; have a high number of Christmas trees since Vatican City is the seat of the papacy, but perhaps data &lt;em&gt;itself&lt;/em&gt; should be questioned too.&lt;/p&gt;
&lt;h2 id=&#34;christmas-trees-in-the-world-1&#34;&gt;&amp;ldquo;Christmas Trees&amp;rdquo; in the World&lt;/h2&gt;
&lt;p&gt;If you check the photos in Italy, you many notice that many of them have a photo caption similar to this one:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tree-time/christmas_tagsforlikes.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s obviously no Christmas tree in that photo. But there are a &lt;em&gt;lot&lt;/em&gt; of tags.&lt;/p&gt;
&lt;p&gt;Many Instagram photos use a service called &lt;a href=&#34;http://www.tagsforlikes.com/&#34; target=&#34;_blank&#34;&gt;TagsForLikes&lt;/a&gt;, which complies a list of popular hashtags that other users are able to see. Users can then then copy/paste them into the photo caption to spam hashtags increase the photo exposure, which, as I&amp;rsquo;ve shown &lt;a href=&#34;http://minimaxir.com/2014/03/hashtag-tag/&#34; target=&#34;_blank&#34;&gt;in a previous blog post&lt;/a&gt;, does in fact increase the number of Likes the photo receives from other users.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tree-time/tags4likes.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Notice a resemblance between this list and the photo caption?&lt;/p&gt;
&lt;p&gt;Fortunately, all the TagsForLikes hashtag lists contain #TagsForLikes as a branding trick, which makes such photos extremely easy to detect. Here&amp;rsquo;s what the world map looks like if all the potentially spam photos were colored red:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tree-time/instagram_world_spamnonspam.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Italy looks a &lt;em&gt;lot&lt;/em&gt; different now! There is red in other counties, but it&amp;rsquo;s not easily visible at a glance.&lt;/p&gt;
&lt;p&gt;The treemap of photos, when seperated between spam and non-spam photos, tells the full story:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/tree-time/treemap-spam-nonspam.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;About 20% of all the #tree photos are spam photos, and about half of those were taken by people in Italy. As a result, Italy has &lt;em&gt;more spam #tree photos than nonspam #tree photos!&lt;/em&gt; This is an interesting cultural phenomenon that I have no guesses as to why it occurs. All other countries have significantly smaller numbers of spam photos relatively non-spam photos.&lt;/p&gt;
&lt;p&gt;For non-spam photos, the number of #tree photos in Italy now matches the number of non-spam photos in the UK, which correlates with their populations, making the removal of spam photos a sane move.&lt;/p&gt;
&lt;p&gt;Is it possible to track people in their homes via Instagram tags? Definitely. If you do care privacy and your Instagram account is not set to Private, I recommend not geotagging your photos. If you&amp;rsquo;re interested in looking at such photos, ensure that the the tag is relevant for the given photo.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;All graphics were generated using R. The maps were created using &lt;a href=&#34;http://ggplot2.org/&#34; target=&#34;_blank&#34;&gt;ggplot2&lt;/a&gt; and the world map provided with the &lt;a href=&#34;http://cran.r-project.org/web/packages/rworldxtra/index.html&#34; target=&#34;_blank&#34;&gt;rworldxtra&lt;/a&gt; package. The treemaps were created using the &lt;a href=&#34;http://cran.r-project.org/web/packages/treemap/index.html&#34; target=&#34;_blank&#34;&gt;treemap&lt;/a&gt; package.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The source data is included with a seperate tab in Google Fusion Tables &lt;a href=&#34;https://www.google.com/fusiontables/DataSource?docid=1J3RQB6MuFbZvA_WcCVHlKAzDBUppxFBQ3LA054RL&#34; target=&#34;_blank&#34;&gt;along with the interactive map&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;</description></item><item><title>Mapping San Francisco Locations Using Facebook Data</title><link>/2014/04/san-francisco/</link><pubDate>Tue, 08 Apr 2014 08:00:00 +0000</pubDate><guid>/2014/04/san-francisco/</guid><description>
&lt;p&gt;Statisticians like to use data from the &lt;a href=&#34;https://www.census.gov/&#34; target=&#34;_blank&#34;&gt;United States Census&lt;/a&gt; to plot interesting trends such as unemployment and population of regions across the country. However, such data is typically historical and not very robust.&lt;/p&gt;
&lt;p&gt;Facebook, on the other hand, has collected a large amount of data though its &lt;a href=&#34;https://www.facebook.com/about/location&#34; target=&#34;_blank&#34;&gt;Places product&lt;/a&gt;. Facebook Places allows users to &amp;ldquo;check-in&amp;rdquo; a place such as &lt;a href=&#34;https://www.facebook.com/pages/Dolores-Park/105687759464007&#34; target=&#34;_blank&#34;&gt;Dolores Park&lt;/a&gt; in a manner similar to &lt;a href=&#34;https://foursquare.com/&#34; target=&#34;_blank&#34;&gt;Foursquare&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/dolores.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Through clever use of Facebook&amp;rsquo;s Graph API and FQL, I was able to retrieve the data on all Facebook Places in and around San Francisco, along with the # of check-ins at each Place. With the data on approximately 8,000 Facebook Places in San Francisco, we can map where San Franciscans are checking-in, and determine what types of locations they like to visit.&lt;/p&gt;
&lt;!-- more --&gt;
&lt;p&gt;First, let&amp;rsquo;s look at the distribution of check-ins among Places in San Francisco:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/sf-checkin-distribution.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;On a logarithmic scale, the shape resembles a bell curve with a center at about 800 check-ins; however, the sample average of check-ins for the data set is &lt;strong&gt;3,241 check-ins&lt;/strong&gt;, indicating that the data may be heavily skewed to the right. Some Places don&amp;rsquo;t have many check-ins, while some Places have an incredibly large number of check-ins.&lt;/p&gt;
&lt;p&gt;What are the Places with hundreds of thousands of check-ins? What does the city look like with all these Places plotted on a map of San Francisco?&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/sf-checkin.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://www.dropbox.com/s/cykofhlyus8atgw/sf-bubble.pdf&#34; target=&#34;_blank&#34;&gt;(PDF of Map)&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The most checked-in Places are, unsurprisingly, the famous tourist attractions of San Francisco, such as &lt;a href=&#34;https://www.facebook.com/pages/ATT-Park/116440731717551&#34; target=&#34;_blank&#34;&gt;AT&amp;amp;T Park&lt;/a&gt; and &lt;a href=&#34;https://www.facebook.com/UnionSquareSF&#34; target=&#34;_blank&#34;&gt;Union Square&lt;/a&gt;. These Top Places are spread all over the city.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s also clear where the most dense areas are located in San Francisco. There are plainly-visible lines of Places along southern Mission Street and Outer Sunset. SOMA and Richmond have a large number of Places as well.&lt;/p&gt;
&lt;p&gt;And yes, 155,000 people really did check-into &lt;a href=&#34;https://www.facebook.com/pages/The-Cheesecake-Factory/107178672654937&#34; target=&#34;_blank&#34;&gt;The Cheesecake Factory&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;what-types-of-locations-do-people-in-san-francisco-frequently-check-into&#34;&gt;What types of locations do people in San Francisco frequently check-into?&lt;/h2&gt;
&lt;p&gt;Facebook also records the category of its Places, such as &amp;ldquo;Bar&amp;rdquo; and &amp;ldquo;Restaurant&amp;rdquo;. What are the most numerous types of locations in San Francisco?&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/sf-checkin-distribution-count.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Local businesses are by far the most frequent, as it&amp;rsquo;s a more generic classifier for a Place and can be applied to anything that does not have an explicit classifier (such as startups). I find it interesting that non-profit organizations are more numerous than shopping centers.&lt;/p&gt;
&lt;p&gt;However, the quantity of a specific type of business does not necessarily mean that San Franciscians will check-into that type of Place more often. Which type of Place, on average, receives the greatest number of check-ins?&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/sf-checkin-distribution-avg.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;People are more likely to check-into memorable Places and events, instead of Places they frequently visit like Bars and Restaurants (Twice as many people check-into Attractions than Clubs). Again, tourist attractions are the most popular, which is due to both the relatively low number of Places and the extremely high number of check-ins into Places such as AT&amp;amp;T Park.&lt;/p&gt;
&lt;p&gt;The &amp;ldquo;Lake&amp;rdquo; corresponds to &lt;a href=&#34;https://www.facebook.com/pages/Lake-Merced/113785468632283&#34; target=&#34;_blank&#34;&gt;Lake Merced&lt;/a&gt;, if you&amp;rsquo;re curious.&lt;/p&gt;
&lt;h2 id=&#34;which-san-francisco-neighborhoods-are-the-most-popular&#34;&gt;Which San Francisco neighborhoods are the most popular?&lt;/h2&gt;
&lt;p&gt;You saw earlier that the Facebook Places are concentrated in specific areas. Here&amp;rsquo;s a map of San Francisco&amp;rsquo;s neighborhoods, highlighted by the number of Places within:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/sf-places-count.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://www.dropbox.com/s/63fgvcucvk9n9v3/sf-sum.pdf&#34; target=&#34;_blank&#34;&gt;(PDF of Map)&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The neighborhoods with the most Places are unsurprisingly where the trendy areas are, such as the Mission and SOMA. Additionally, those types of neighborhoods are larger in square area than others, which may bias the results in their favor.&lt;/p&gt;
&lt;p&gt;But are these large neighborhoods also the most active neighborhoods? Which neighborhoods have the most check-ins on average per Place within the neighborhood?&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;/img/sf-places-avg.png&#34; alt=&#34;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;a href=&#34;https://www.dropbox.com/s/u613oh4fskjrkny/sf-avg.pdf&#34; target=&#34;_blank&#34;&gt;(PDF of Map)&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;The Embarcadero has by far the most check-ins on average, again, due to both its small size and AT&amp;amp;T Park. Other neighborhoods, however, have more similar averages to each other. It&amp;rsquo;s worth noting that the average number of check-ins is higher in neighborhoods adjacent to the San Francisco Bay, such as North Beach and Fisherman&amp;rsquo;s Wharf: perhaps people check-in more frequently when they have a good view.&lt;/p&gt;
&lt;p&gt;Can this data and conclusions about San Francisco Facebook Places be extrapolated to other cities? I&amp;rsquo;d argue yes: it makes logical sense that people check-in more frequently to Places that are more significant, and it also makes sense that people frequently check-into Places with large amounts of tourist attractions. Facebook data shows us cool trends that the United States Census data cannot.&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;em&gt;All charts and maps were made using R, ggplot2, and ggmaps.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You can download a copy of the Facebook Places data set &lt;a href=&#34;https://www.dropbox.com/s/6g6ap4poz1b2trs/sf-public.csv&#34; target=&#34;_blank&#34;&gt;here&lt;/a&gt;. The place_id column corresponds to the San Francisco neighborhood where the Place is located.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Maps are from &lt;a href=&#34;https://www.google.com/maps/&#34; target=&#34;_blank&#34;&gt;Google Maps&lt;/a&gt;. San Francisco shape files for city neighborhoods are from &lt;a href=&#34;https://data.sfgov.org/Service-Requests-311-/Neighborhoods/ejmn-jyk6&#34; target=&#34;_blank&#34;&gt;data.sf.gov&lt;/a&gt;. Additionally, thanks to &lt;a href=&#34;http://www.reddit.com/r/dataisbeautiful/comments/223ubt/map_of_places_in_san_francisco_by_of_facebook/&#34; target=&#34;_blank&#34;&gt;/r/dataisbeautiful&lt;/a&gt; for offering ideas for improvements to the maps.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You may notice that the Check-In Counts on some of the official Facebook Place Pages strongly disagree with the Count reported in my charts. The Count reported on affected page is nearly double the value reported via the API in each instance. I believe this is a bug on Facebook&amp;rsquo;s end: see &lt;a href=&#34;http://i.imgur.com/I1syBhR.png&#34; target=&#34;_blank&#34;&gt;this image&lt;/a&gt;, in which the Graph Search autocomplete reports a different value of check-ins than the Place Page itself. In this case, I trust the data from the API.&lt;/em&gt;&lt;/p&gt;</description></item></channel></rss>